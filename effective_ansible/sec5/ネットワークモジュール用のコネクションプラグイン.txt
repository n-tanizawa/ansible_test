[ネットワークモジュール用のコネクションプラグイン]
Ansibleはターゲットノードへ接続するときににはコネクションプラグインを利用する。
コネクションプラグインにより、ターゲットノードへの接続方式を切り替えることができる。
ネットワーク機器向けには、network_cli、netconf、httpapiの3つのコネクションプラグインが利用できる。

(1)network_cliコネクションプラグイン
SSH接続によるCLI操作ができるプラットフォーム向けのコネクションプラグイン。
事前に、ネットワーク機器側でSSH接続を許可しておく必要がある。

(2)netconfコネクションプラグイン
NETCONFが利用ができるプラットフォーム向けのコネクションプラグイン。
NETCONFとは、ネットワーク機器の情報取得や設定をするためのプロトコルである。通常のSSHによるCLIがコマンドベースで
あるのに対して、NETCONFは特定のフォーマットに従ったメッセージベースのプロトコルである。
ネットワーク機器間でNETCONFによる操作ができる設定にしておく必要がある。
junos_netconfモジュールでネットワーク機器側のNETCONFを有効、無効を切り替えることができる。
そのため、junos_netconfモジュール自身は、netconfではなくnetwork_cliコネクションプラグインを利用する。
まだ、NETCONFが有効になっていないネットワーク機器をNETCONFで管理したい場合は、junos_netconfモジュールで
NETCONFを有効にする。その後にnetconfプラグインを利用するという手段もある。
また、コントロールノード側でNETCONF通信のためのPythonモジュール(ncclient)を利用する。そのため、netconfコネクション
プラグインを利用する場合は、pip install ncclientなどのコマンドであらかじめncclientをインストールする必要がある。

(3)httpapiコネクションプラグイン
HTTP APIが利用できるプラットフォーム向けのコネクションプラグイン。
ネットワーク機器側でHTTP APIによる操作ができる設定にしておく必要がある。
nxos_nxapiモジュールや、eos_eapiモジュールのように、ネットワーク機器側のHTTP APIを有効、無効を切り替えるための
モジュールもある。

(4)localコネクションプラグイン
ネットワークモジュール用のコネクションプラグインが登場する以前からあり、それまでネットワークモジュールとして
利用されていたコネクションプラグイン。SSHやAPIなど、どの接続方式にするかは各ネットワークモジュールのアーギュメント
指定による。現在はlocalコネクションプラグインのみをサポートするネットワークモジュールの場合に使用する。(F5 BIG-IPなど)

・コネクションプラグインの使い分け

プラットフォーム    network_cli     netconf     httpapi     local
Arista EOS              〇            -           〇         〇
Cisco IOS               〇            -           -          〇
Cisco IOS XR            〇            -           -          〇
Cisco NX-OS             〇            -           〇         〇
Junos OS                〇            〇          -          〇
https://docs.ansible.com/ansible/latest/network/user_guide/platform_index.html