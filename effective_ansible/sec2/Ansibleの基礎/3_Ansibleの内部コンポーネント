[Ansibleの内部コンポーネント]
Ansibleには柔軟性のあるタスクの実行を支援するために、いろいろな機能が備わっている。
各機能はコンポーネントの形で用意されており、プレイブックや設定ファイルから呼び出されることで処理が実行される。
これらのコンポーネントを管理しているのが、Ansibleのコアエンジンである。
また、その他の機能は一つ一つ拡張可能な形(Pluggable)で用意されている。

・モジュール
プレイブックやAnsible APIの中で呼ばれる再利用可能な処理ユニット。
今まで手作業やスクリプトなどで実行していた、「ファイルの転送」や「サービスの起動停止」などの処理を、
作業ごとにラッピングしたもの。
このモジュールをプレイブックやコマンド、APIから宣言することで、処理をターゲットノードで実行する。

・モジュールのメンテナンス
Ansibleで提供されている各モジュールは、GitHub上で公開されており、RedHat.Inc,および各ベンダー、
コミュニティによってメンテナンスされている。
通常、Ansibleをインストールするとこれらのモジュールも併せて導入されるが、Ansible Engineの管理サポートの関係上、
以下のカテゴリに分類される。

コアモジュール: Ansibleの基本機能を構成するモジュール群
ネットワークモジュール:代表的なネットワーク機器を含むモジュール群
                    対象ベンダーごとにモジュール対象が異なる上に、サポートを受けるにはAnsible Engineの
                    サポート契約とは別にサポート契約を結ぶ必要がある。
認定モジュール:RedHat.Inc,によって認定されたベンダーが提供するモジュール群
            　ベンダーごとにサポート可能なモジュールが選定される。
コミュニティモジュール:コミュニティメンバが独自に作成し、メンテナンスしていくモジュール群
                    Ansibleをインストールするとこれらのモジュールも同時に導入されるが、RedHat.Inc,のサポート対象外。
                    そのため利用上の問題があった場合は、全てコミュニティに依存し、ベストエフォートでサポートされる。

[モジュールのカテゴリ]
モジュールはサポートの違いによる分類だけではなく、それぞれの利用用途に応じて以下のカテゴリに分かれている。

モジュール群                    カテゴリ概要
Cloud Modules               パブリッククラウドや、プライベートクラウドのAPIを利用して、クラウド基盤の操作を行うモジュール群
Clustering Modules          CousulやKubernetesなどアプリケーションのクラス化管理システムの操作を行うモジュール群
Commands Modules            普段のオペレーションで使用するシェルやコマンドラインのように操作を行うモジュール群
Crypto Modules              OpenSSLの証明書管理をはじめとする、暗号化に関するモジュール群
Database Modules            データベースのユーザ管理やSQL操作を行うためのモジュール群
Files Modules               ファイルの編集やコピーなど、OS上のファイル操作を行うためのモジュール群
Inventory Modules           ホストやグループの追加など、インベントリを操作するためのモジュール群
Messageing Modules          メッセージングサービスの操作を行うためのモジュール群
Monitoring Modules          監視イベント操作や、監視対象の追加など、監視サービスの操作を行うためのモジュール群
Net Tools Modules           ネットワークインターフェースやDNSレコード設定など、ネットワークに関するモジュール群
Network Modules             ネットワーク機器の操作を行うためのモジュール群
Notification Modules        チャットツールやメールなどの通知サービスの操作を行うためのモジュール群
Packaging Modules           ミドルウェアのインストールなど、OSのパッケージマネージャーや各言語のパッケージマネージャーの操作を行うためのモジュール群
Source Control Modules      GitやSubversionをはじめとするソースリポジトリの管理を行うためのモジュール群
Storage Modules             ストレージ機器の操作を行うためのモジュール群
System Modules              OSのセキュリティ機能やカーネル設定、ユーザー管理などOSの基本管理を行うモジュール群
Utilities Modules           プレイブック実行時のデバックメッセージや、他のモジュールの実行処理待機など、プレイブック自体の操作をコントロールするためのモジュール群
Web Infrastructure Modules  Apacheのモジュール管理など、Webサービスの操作を行うためのモジュール群
Windows Modules             Windows OSの管理を行うためのモジュール群
Identity Modules            ID管理や認証を行うためのモジュール群
Remote Management Modules   リモート管理を行うためのモジュール群

[プラグイン(Plugin)]
Ansibleのコア機能の拡張や、追加機能を提供するコンポーネント。
モジュールはプレイブックのタスクとして宣言されるが、プラグインはAnsibleを構成するコア機能に付随する。

・代表的なプラグインの種類

Connecitonプラグイン:Ansibleがターゲットノードに接続を行うときに利用するプラグイン。
                    通常、AnsibleはSSHを使ってターゲットノードに接続していますが、ConnecitonTypePluginを利用することで、
                    ターゲットノードへの接続方式を切り替えることができる。
                    sshの他にも、docker、chroot、local、psrp、network_cli、smartといった接続方式がある。

Lookupプラグイン:CSVやINIファイルなどの外部のリストデータを読み込み、プレイブックの中で呼び出し処理を実装するプラグイン。
                Lookup Pluginを利用した呼び出し処理は、ターゲットノードではなく、コントロールノード側で処理される。
                プレイブック内での利用は、「lookup ('Lookupプラグイン名', 引数, errors)」という形式で、
                外部ファイルや環境変数、コマンドなどを呼び出し、その結果を利用できる。
                オプションのerrorsにはignore, warn, strictを指定することで、呼び出しファイルの有無に応じて、エラー出力を管理できる。

Varsプラグイン:インベントリ、プレイブック、またはコマンドラインから呼び出される変数ではない、可変的な変数を取り扱うプラグイン。
              host_varsやgroup_varsは、このプラグインによって固有のターゲットノードの変数として認識されている。

フィルタ:Ansibleのフィルタはjinja2を利用しており、テンプレート書式内にある変数データから固有の情報を制限する機能を提供する。
        jinja2にはフィルタ以外にも、Ansibleが独自に組み込んだフィルタがあり、それをもとにカスタマイズも可能。